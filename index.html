<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Ashconsoles</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0f172a;
      color: #e5e7eb;
      padding: 20px;
    }
    a {
      color: #38bdf8;
      text-decoration: none;
    }
    li {
      margin: 8px 0;
    }
  </style>
</head>
<body>

<h2>GitHub Pages Sites</h2>
<ul id="pagesList">Loadingâ€¦</ul>

<script>
const username = "ashconsoles"; // ðŸ”´ change this
const list = document.getElementById("pagesList");

async function getPageTitle(repo) {
  try {
    const rawURL = `https://raw.githubusercontent.com/${username}/${repo}/main/index.html`;
    const res = await fetch(rawURL);

    if (!res.ok) throw new Error("No index.html");

    const html = await res.text();
    const match = html.match(/<title>(.*?)<\/title>/i);
    return match ? match[1] : repo;
  } catch {
    return repo;
  }
}

async function loadPages() {
  list.innerHTML = "Loadingâ€¦";

  const repos = await fetch(
    `https://api.github.com/users/${username}/repos?per_page=100`
  ).then(r => r.json());

  list.innerHTML = "";
  let found = false;

  for (const repo of repos) {
    if (repo.has_pages) {
      found = true;

      const title = await getPageTitle(repo.name);
      const pageURL = `https://${username}.github.io/${repo.name}/`;

      const li = document.createElement("li");
      li.innerHTML = `<a href="${pageURL}" target="_blank">${title}</a>`;
      list.appendChild(li);
    }
  }

  if (!found) {
    list.innerHTML = "<li>No GitHub Pages found.</li>";
  }
}

loadPages();
</script>


</body>
</html>
